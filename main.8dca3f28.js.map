{"version":3,"sources":["scripts/main.js"],"names":["getTableHeader","document","querySelectorAll","tableBody","querySelector","getTHead","getTBody","getTFooter","clickCount","lastClickedColumn","sortASC","columnName","cell","newArr","forEach","item","itemContent","cells","push","textContent","sort","a","b","transformIntoNumberFromSalary","index","str","replace","sortDESC","reverse","header","addEventListener","event","getClickOnHeader","target","closest","del2","classList","remove","del","itemf","add","item2","itemTfooter","createElementForm","createElement","textContentLabel","arrForLabel","createElementLabel","createElementInput","cleanText","toLowerCase","setAttribute","append","name","type","select","city","option","value","button","showError","message","createElementDiv","body","setTimeout","showSuccessuf","e","preventDefault","data","FormData","namePerson","get","age","position","salary","trim","length","isNaN","newPerson","toFixed","newRow","insertRow","insertCell","innerText","reset","notification","parentNode","removeChild","itemBody","itemHead","clickedCell","tagName","originalValue","createInputCell","newValue","e2","key"],"mappings":"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","file":"main.8dca3f28.js","sourceRoot":"..\\src","sourcesContent":["/* eslint-disable prettier/prettier */\n'use strict';\n\nconst getTableHeader = document.querySelectorAll('table th');\nconst tableBody = document.querySelector('tbody');\nconst getTHead = document.querySelectorAll('thead tr');\nconst getTBody = document.querySelectorAll('tbody tr');\nconst getTFooter = document.querySelectorAll('tfoot tr');\nlet clickCount = 0;\nlet lastClickedColumn = null;\n\n// ASC sort\nfunction sortASC(columnName, cell) {\n  const newArr = [];\n\n  getTBody.forEach((item) => {\n    const itemContent = item.cells[cell];\n\n    newArr.push(itemContent.textContent);\n  });\n\n  if (columnName === 'Salary') {\n    newArr.sort(\n      (a, b) =>\n        transformIntoNumberFromSalary(a) - transformIntoNumberFromSalary(b),\n    );\n  } else {\n    newArr.sort();\n  }\n\n  // Оновлюємо таблицю\n  getTBody.forEach((item, index) => {\n    const itemContent = item.cells[cell];\n\n    itemContent.textContent = newArr[index];\n  });\n}\n\n// Функція для перетворення зарплати в число\nfunction transformIntoNumberFromSalary(str) {\n  return +str.replace(/[^0-9.-]+/g, '');\n}\n\n// DESC sort\nfunction sortDESC(columnName, cell) {\n  const newArr = [];\n\n  getTBody.forEach((item) => {\n    const itemContent = item.cells[cell];\n\n    newArr.push(itemContent.textContent);\n  });\n\n  if (columnName === 'Salary') {\n    newArr\n      .sort(\n        (a, b) =>\n          transformIntoNumberFromSalary(a) - transformIntoNumberFromSalary(b),\n      )\n      .reverse();\n  } else {\n    newArr.sort().reverse(); // Сортуємо і реверсуємо\n  }\n\n  // Оновлюємо таблицю\n  getTBody.forEach((item, index) => {\n    const itemContent = item.cells[cell];\n\n    itemContent.textContent = newArr[index];\n  });\n}\n\n\ngetTableHeader.forEach((header) => {\n  // eslint-disable-next-line no-shadow\n  header.addEventListener('click', function (event) {\n    const getClickOnHeader = event.target.closest('th');\n\n    if (getClickOnHeader) {\n      const columnName = header.textContent;\n\n      // Скидаємо clickCount, якщо натискаємо на нову колонку\n      if (lastClickedColumn !== columnName) {\n        clickCount = 0;\n        lastClickedColumn = columnName;\n      }\n\n      clickCount++;\n\n      if (clickCount === 1) {\n        // Перший клік\n        if (columnName === 'Name') {\n          sortASC(columnName, 0);\n        }\n\n        if (columnName === 'Position') {\n          sortASC(columnName, 1);\n        }\n\n        if (columnName === 'Office') {\n          sortASC(columnName, 2);\n        }\n\n        if (columnName === 'Age') {\n          sortASC(columnName, 3);\n        }\n\n        if (columnName === 'Salary') {\n          sortASC(columnName, 4);\n        }\n      } else if (clickCount === 2) {\n        if (columnName === 'Name') {\n          sortDESC(columnName, 0);\n        }\n\n        if (columnName === 'Position') {\n          sortDESC(columnName, 1);\n        }\n\n        if (columnName === 'Office') {\n          sortDESC(columnName, 2);\n        }\n\n        if (columnName === 'Age') {\n          sortDESC(columnName, 3);\n        }\n\n        if (columnName === 'Salary') {\n          sortDESC(columnName, 4);\n        }\n      }\n    }\n\n    getTHead.forEach((item) => {\n      item.addEventListener('click', function () {\n        getTBody.forEach((del2) => del2.classList.remove('active'));\n        getTHead.forEach((del) => del.classList.remove('active'));\n        getTFooter.forEach((itemf) => itemf.classList.remove('active'));\n\n        item.classList.add('active');\n      });\n    });\n  });\n});\n\n// Додаємо обробник подій для рядків таблиці\ngetTBody.forEach((item2) => {\n  item2.addEventListener('click', function () {\n    getTHead.forEach((del2) => del2.classList.remove('active'));\n    getTBody.forEach((del2) => del2.classList.remove('active'));\n    getTFooter.forEach((itemTfooter) => itemTfooter.classList.remove('active'));\n\n    item2.classList.add('active');\n  });\n});\n\nconst createElementForm = document.createElement('form');\n\ncreateElementForm.classList.add('new-employee-form');\n\nconst textContentLabel = [\n  'Name: ',\n  'Position: ',\n  'Office: ',\n  'Age: ',\n  'Salary: ',\n];\n\n// звертатись по масиву\nconst arrForLabel = [];\n\ntextContentLabel.forEach((item) => {\n  const createElementLabel = document.createElement('label');\n  const createElementInput = document.createElement('input');\n  const cleanText = item.replace(': ', '').toLowerCase();\n\n  createElementLabel.textContent = cleanText;\n  createElementLabel.textContent = item;\n  arrForLabel.push(createElementLabel);\n  createElementInput.setAttribute('name', cleanText.toLowerCase());\n  createElementInput.setAttribute('data-qa', cleanText.toLowerCase());\n  createElementForm.append(createElementLabel);\n\n  if (\n    createElementInput.name === 'age' ||\n    createElementInput.name === 'salary'\n  ) {\n    createElementInput.type = 'number';\n  }\n\n  if (\n    createElementInput.name === 'name' ||\n    createElementInput.name === 'position'\n  ) {\n    createElementInput.type = 'text';\n  }\n\n  if (createElementInput.name === 'office') {\n    const select = document.createElement('select');\n\n    select.setAttribute('name', cleanText.toLowerCase());\n\n    const cities = [\n      'Tokyo',\n      'Singapore',\n      'London',\n      'New York',\n      'San Francisco',\n    ];\n\n    cities.forEach((city) => {\n      const option = document.createElement('option');\n\n      option.value = city;\n      option.textContent = city;\n      select.append(option);\n    });\n    createElementLabel.append(select);\n  }\n\n  if (createElementInput.name !== 'office') {\n    createElementLabel.append(createElementInput);\n  }\n});\n\n\n\n// можна звертатись по індексу\n// console.log(arrForLabel[0].textContent);\n\n// create Button Save\nconst button = document.createElement('button');\n\nbutton.textContent = 'Save to table';\n\ncreateElementForm.append(button);\n\nbutton.addEventListener('click', function (e) {\n  e.preventDefault(); // Запобігаємо стандартній поведінці кнопки\n\n  const data = new FormData(createElementForm);\n  const namePerson = data.get('name');\n  const age = data.get('age');\n  const position = data.get('position');\n  const salary = data.get('salary');\n\n  if (namePerson.trim().length < 4) {\n    showError('Name value has less than 4 letters');\n  } else if (position.trim().length === 0) {\n    showError('Position field cannot be empty');\n  } else if (+age < 18 || +age >= 90 || isNaN(age)) {\n    showError('Age value is less than 18 or more than 90');\n  } else if (+salary <= 0) {\n    showError('Add salary');\n  } else {\n    showSuccessuf('Employee successfully added');\n\n    const newPerson = [\n      namePerson,\n      position,\n      data.get('office'),\n      age,\n      `$${(+(salary / 1000)).toFixed(3).replace('.', ',')}`,\n    ];\n\n    const newRow = tableBody.insertRow(-1);\n\n    newPerson.forEach((item, index) => {\n      const cell = newRow.insertCell(index);\n\n      cell.innerText = item;\n    });\n    createElementForm.reset();\n  }\n\n  setTimeout(() => {\n    const notifications = document.querySelectorAll('.notification');\n\n    notifications.forEach((notification) => {\n      notification.parentNode.removeChild(notification);\n    });\n  }, 3000);\n});\n\n\n// Функція для відображення повідомлень про помилки\nfunction showError(message) {\n  const createElementDiv = document.createElement('div');\n\n  createElementDiv.setAttribute('data-qa', 'notification.error');\n  createElementDiv.classList.add('notification', 'error');\n  createElementDiv.textContent = message;\n  document.body.append(createElementDiv);\n\n  setTimeout(() => {\n    createElementDiv.remove();\n  }, 2000);\n}\n\nfunction showSuccessuf(message) {\n  const createElementDiv = document.createElement('div');\n\n  createElementDiv.setAttribute('data-qa', 'notification.success');\n  createElementDiv.classList.add('notification', 'success');\n  createElementDiv.textContent = message;\n  document.body.append(createElementDiv);\n\n  setTimeout(() => {\n    createElementDiv.remove();\n  }, 2000);\n}\n\ndocument.body.append(createElementForm);\n\n// Обробник подій для футера таблиці\ngetTFooter.forEach((item) => {\n  item.addEventListener('click', function () {\n    getTBody.forEach((itemBody) => itemBody.classList.remove('active'));\n    getTHead.forEach((itemHead) => itemHead.classList.remove('active'));\n    getTFooter.forEach((itemTfooter) => itemTfooter.classList.remove('active'));\n\n    item.classList.add('active');\n  });\n});\n\n\ngetTBody.forEach((item) => {\n  item.addEventListener('dblclick', function(e) {\n    const clickedCell = e.target; // Отримуємо клікаючу комірку\n\n    if (clickedCell.tagName === 'TD') {\n      const originalValue = clickedCell.textContent;\n\n      clickedCell.textContent = '';\n\n      const createInputCell = document.createElement('input');\n\n      createInputCell.classList.add('cell-input');\n      createInputCell.type = 'text';\n\n\n      createInputCell.value = originalValue;\n\n\n      clickedCell.append(createInputCell);\n\n\n      createInputCell.addEventListener('blur', function () {\n        const newValue = createInputCell.value.trim();\n\n        // eslint-disable-next-line max-len\n        clickedCell.textContent = newValue.length > 0 ? newValue : originalValue;\n        createInputCell.remove(); // Видаляємо input\n      });\n\n\n      createInputCell.addEventListener('keydown', function (e2) {\n        if (e2.key === 'Enter') {\n          const newValue = createInputCell.value.trim(); // Обрізаємо пробіли\n\n          // eslint-disable-next-line max-len\n          clickedCell.textContent = newValue.length > 0 ? newValue : originalValue;\n          createInputCell.remove(); // Видаляємо input\n        }\n      });\n    }\n  });\n});\n"]}